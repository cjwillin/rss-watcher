{% set active = 'settings' %}
{% extends "base.html" %}
{% block content %}
  <section class="page-h">
    <h2>Settings</h2>
    <p class="muted">Secrets can be stored here, or provided via environment variables (preferred).</p>
  </section>

  <section class="grid">
    <div class="card wide">
      <div class="card-h">
        <div class="card-t">General</div>
      </div>
      <div class="card-b">
      <form class="form" method="post" action="/settings/save">
        <div class="cols">
          <label>
            <span>Poll interval (seconds)</span>
            <input name="poll_interval_seconds" value="{{ vals.poll_interval_seconds or '300' }}" />
            <div class="hint">Minimum 60 seconds.</div>
          </label>
        </div>

        <div class="sep"></div>
        <div class="k">iOS push via Pushover</div>
        <div class="muted">Install Pushover on iOS and create an application token.</div>
        <div class="cols">
          <label>
            <span>App token</span>
            <input name="pushover_app_token" value="{{ vals.pushover_app_token }}" placeholder="Pushover application token" />
          </label>
          <label>
            <span>User key</span>
            <input name="pushover_user_key" value="{{ vals.pushover_user_key }}" placeholder="Your Pushover user key" />
          </label>
        </div>

        <div class="sep"></div>
        <div class="k">Email via SMTP</div>
        <div class="cols">
          <label>
            <span>SMTP host</span>
            <input name="smtp_host" value="{{ vals.smtp_host }}" placeholder="smtp.example.com" />
          </label>
          <label>
            <span>SMTP port</span>
            <input name="smtp_port" value="{{ vals.smtp_port }}" placeholder="587" />
          </label>
          <label>
            <span>SMTP user</span>
            <input name="smtp_user" value="{{ vals.smtp_user }}" placeholder="optional" />
          </label>
          <label>
            <span>SMTP pass</span>
            <input name="smtp_pass" value="{{ vals.smtp_pass }}" type="password" placeholder="optional" />
          </label>
          <label>
            <span>From</span>
            <input name="smtp_from" value="{{ vals.smtp_from }}" placeholder="alerts@example.com" />
          </label>
          <label>
            <span>To</span>
            <input name="smtp_to" value="{{ vals.smtp_to }}" placeholder="you@example.com" />
          </label>
        </div>

        <div class="row">
          <button class="btn" type="submit">Save</button>
          <a class="btn ghost" href="/">Back</a>
        </div>
      </form>
      </div>
    </div>
  </section>
{% endblock %}
